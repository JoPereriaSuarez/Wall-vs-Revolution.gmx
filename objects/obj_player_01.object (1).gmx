<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_trump_nada</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///INITIAL VARIABLES

//this sprite
this = obj_player_01; 
vida = obj_system.vida;
name = "TRUMP";
can_win = true;

//sfx list
sfx_action[0] = sfx_trump_action_1;
sfx_action[1] = sfx_trump_action_2;
sfx_action[2] = sfx_trump_action_3;
sfx_action[3] = sfx_trump_action_4;

//sprite list
spr_idle    = spr_trump_normal;
spr_attack  = spr_trump_ataque;
spr_victory = spr_trump_victory;
spr_lose    = spr_trump_pierde;

sprite_index = spr_idle;
 
//movement
move_speed  = 5;
dir         = 0;
vsp         = 0.0;
hsp         = 0.0;
grav        = 0.6;

//control
can_move = true;
can_shoot = true;
shooting_time = 1; //seconds
can_move_time = 0.5;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///CAN MOVE = TRUE
can_move = true;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///CAN SHOOT = TRUE
can_shoot = true;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///ANIMATION SPEED CONTROL
if(!can_shoot){
    sprite_index = spr_idle;
}
switch(sprite_index){
    case spr_idle: 
        image_speed = 0.06;
    break;
    case spr_attack: 
        image_speed = 0.06;
    break;
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///VIDA

if(vida &lt;= 0){
    sprite_index = spr_lose;
    can_move = true;
    can_attack = false;
    grav = 0.3;
    obj_player_02.can_move = false;
    obj_player_02.can_attack = false;
    obj_player_02.sprite_index = obj_player_02.spr_lose;
    if(can_win){
        global.victories_02 ++;
        can_win = false;
    }
    show_debug_message("global.victories_02 = " + string(global.victories_02));
   
    
    obj_system.end_level = true;
    obj_system.winner_name = obj_player_02.name;
}

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///CLAMPING 
x = clamp(x,obj_system.x_min_boundary, obj_system.x_max_boundary);
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///CHANGE SPRITE DIRECTION
if(dir != 0) image_xscale = dir;
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///SHOOTING
action_key = keyboard_check_pressed(ord("W"));
if(action_key){
    if(can_shoot){
        var random_sfx = choose(0,1,2,3);
        sprite_index = spr_attack;
        if(!audio_is_playing(sfx_action[0]) || !audio_is_playing(sfx_action[1]) || !audio_is_playing(sfx_action[2]) || !audio_is_playing(sfx_action[3])){
            for(var i = 0; i &lt; array_length_1d(sfx_action); i ++){
                audio_stop_sound(sfx_action[i]);
            }
            audio_play_sound(sfx_action[random_sfx], 6,false);
        }

    }

}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///MOVEMENT
if(!can_move) exit;

left_key = -keyboard_check(ord("A"));
right_key = keyboard_check(ord("D"));


dir = left_key + right_key;
hsp = dir * move_speed;

//VERTICAL COLLISION
if(place_meeting(x,y + vsp, obj_piso)){
    while(!place_meeting(x,y + sign(vsp), obj_piso)){
        y += sign(vsp);
    }
    vsp = 0;   
} else{
    vsp += grav;
}

y += vsp;
x += hsp;
//show_debug_message("x = " + string(x) + ", y = " + string(y));
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="7">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if(sprite_index == spr_attack){
    var  blink = instance_create(x,y - sprite_get_yoffset(this),obj_blink);
    with(blink){
        motion_set(270,blink_speed);
    }
    can_shoot = false;
    can_move = false;
    alarm[0] = shooting_time * room_speed;
    alarm[1] = can_move_time * room_speed;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
